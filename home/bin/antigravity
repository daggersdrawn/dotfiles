#!/bin/bash

# antigravtiy syncs configuration for projects, arch dotfiles, emacs, pass and xmonad.

# usage: antigravity ACTION
#
# actions:
#     pull
#     push
#     status
#

if [ "$1" == "--help" ]; then
    sed -n -e '/^# usage:/,/^$/ s/^# \?//p' < $0
    exit
fi

if [ "$1" == "" ]; then
   echo -e "antigravity: missing file operand."
   echo -e "Try \`antigravity --help' for more information."
   exit
fi

echo -e "\033[1mantigravity transmission initiating.\033[0m\n"

echo -e "\n bootmachine " && cd /srv/bootmachine/ && git $1
echo -e "\n scenemachine " && cd /srv/webapps/scenemachine/ && git $1
echo -e "\n arch " && cd ~/dotfiles/ && git $1
echo -e "\n emacs " && cd ~/.emacs.d/ && git $1
echo -e "\n pass " && cd ~/.password-store/ && git $1
echo -e "\n xmonad " && cd ~/.xmonad/ && git $1

echo -e "\n\033[1mantigravitiy transmission complete.\033[0m"
